<!--
...
-->

Обновление Виджета ЮKassa 31.03.2021
=============================================================

> 31 марта 2021 Виджет ЮKassa будет обновлен. При платеже банковской картой окно прохождения 3DS по-умолчанию станет всплывающим (до этого плательщики переходили на отдельную страницу, уходя с вашего сайта и теряя фокус оплаты). Теперь платить станет удобнее.  
> На этой странице представлены пояснения к рассылке.

#### Пример

![пример всплывающего окна 3DS в виджете ЮKassa](/i/widget-embeded-3ds-true.svg "пример всплывающего окна 3DS в виджете ЮKassa")

### Документация

* [Документация по Виджету](https://yookassa.ru/developers/payment-forms/widget#3ds)


### Что изменится после обновления

1. После обновления Виджета 31.03.2021 можно не передавать `embedded_3ds`. А если вы будете передавать этот параметр, это ни на что влиять не будет. Данный параметр больше не будет работать. Его передача не приведет к ошибке. Все будет работать по прежнему.
2. Окно 3DS в новом Виджете будет всегда всплывающим. Это поведение будет всегда по-умолчанию.
3. Режима "Аутентификация на отдельной странице" больше не будет, теперь только popup-режим. Сделать переход на 3DS в режиме редиректа на отдельную страницу будет не возможно. 

### Как протестировать

> Для большиства использующих Виджет на своем сайте тестирование делать не нужно. Данные рекомендации относятся только к тем, кто программирует ваш сайт или понимает, как внести правки в код вызова Виджета на вашем сайте, чтобы заранее оценить визуально все ли хорошо. Не просите за вас это сделать техническую поддержку. Если вы владелец сайта и не обладаете такими навыками, то делать ничего не нужно.
> 
1. В коде вызова виджета добавьте `embedded_3ds=true` (до 31.03.2021 это работает и поэтому можно проверить заранее).
2. Начните процесс платежа и дойдите до этапа 3DS ([окно](#Пример) для ввода sms-ки пришедшей от банка).
3. Посмотрите как всплывающее [окно](#Пример) выглядит в рамках дизайна вашего сайта. Именно таким оно и будет после обновления Виджета 31.03.2021.
4. Если результат вас удовлетворяет, то всё ок.
5. Если визуально что-то не так (обычно это происходит из-за специфических настроек дизайна для всплывающих окон на вашем сайте), то привлеките к обсуждению вашего дизайнера, чтобы решить этот вопрос визуализации.

#### N.B.

Еще раз напоминаем, что все будет работать как надо. "Проблемы" могут быть только у визуальной части типа "тут линии немного толще, тут ширина блока визуально не вписывается в общий шаг верстки на сайте". Т.е. все это просто немного не аккуратно, по пятибальной шкале на 4+, а хочется на твердую 5. Мы постарались учесть все возможные сценарии и уверены, что на 99.9% у всех с дизайном всплывающего окна 3DS всё будет хорошо. Но на всякий случай обозначаем возможность проверить для тех, кто знает свою специфику. В частности тех, кто делал отображение 3DS в окне IFRAME.

#### Текст рассылки

```
#### Новая функциональность Виджета ЮKassa

31 марта 2021 при платеже банковской картой окно прохождения 3DS по-умолчанию станет всплывающим. 
Так платить станет удобнее.

#### Что нужно сделать?

Ничего делать не нужно. Платежи будут работать по прежнему (мы протестировали все возможные сценарии 
обновленного Виджета во всех интеграциях, которые используют наши контрагенты).

Подробности об обновлении можно прочесть здесь - 
https://github.com/yoomoney/yookassa-github-docs/blob/master/mailings/2021/03/31-yookassa-widjet-update.md.

#### Хочу проверить заранее

После обновления все будет работать без ошибок, как и прежде. Новым для вас может стать то, как выглядит 
всплывающее окно 3DS в дизайне вашего сайта. Это можно проверить следующим образом.
https://github.com/yoomoney/yookassa-github-docs/blob/master/mailings/2021/03/31-yookassa-widjet-update.md#как-протестировать

```
